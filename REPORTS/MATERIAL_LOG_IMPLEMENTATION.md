# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É—á—ë—Ç–∞ —Å–ø–∏—Å–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å

#### –°–µ—Ä–≤–∏—Å `services/materialLog.js`
- ‚úÖ `getAllMaterialLogs(filters)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- ‚úÖ `createMaterialLog(data)` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ `updateMaterialLog(id, data)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- ‚úÖ `deleteMaterialLog(id)` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `Validator`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `ErrorHandler`
- ‚úÖ JOIN —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ `materials` –∏ `projects` –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

#### IPC –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `main.js`
- ‚úÖ `materialLog:getAll` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- ‚úÖ `materialLog:create` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- ‚úÖ `materialLog:update` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- ‚úÖ `materialLog:delete` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏

### 2. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å

#### API –º–µ—Ç–æ–¥—ã –≤ `renderer/api/index.js`
- ‚úÖ `getMaterialLogs(filters)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- ‚úÖ `createMaterialLog(data)` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- ‚úÖ `updateMaterialLog(id, data)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- ‚úÖ `deleteMaterialLog(id)` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ `MaterialLogForm.jsx` - —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –í—ã–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (—Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ —Ü–µ–Ω—ã)
  - –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
  - –î–∞—Ç–∞ —Å–ø–∏—Å–∞–Ω–∏—è
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á—ë—Ç–æ–º —Å—Ç–æ–∏–º–æ—Å—Ç–∏)
  - –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

- ‚úÖ `MaterialLogList.jsx` - —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π —Å–ø–∏—Å–∞–Ω–∏—è
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π –∑–∞–ø–∏—Å–∏
  - –†–∞—Å—á—ë—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ √ó —Ü–µ–Ω–∞)
  - –ö–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è

- ‚úÖ `MaterialLogPage.jsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É—á—ë—Ç–∞ —Å–ø–∏—Å–∞–Ω–∏—è
  - –§–∏–ª—å—Ç—Ä—ã: –ø–æ –ø—Ä–æ–µ–∫—Ç—É, –º–∞—Ç–µ—Ä–∏–∞–ª—É, –¥–∞—Ç–∞–º
  - –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

### 3. –ù–∞–≤–∏–≥–∞—Ü–∏—è

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "–°–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤" –≤ `Navigation.jsx`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç–∏–Ω–≥ –≤ `App.jsx`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –≤ `preload.js`

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ü–æ –ø—Ä–æ–µ–∫—Ç—É
- –ü–æ –º–∞—Ç–µ—Ä–∏–∞–ª—É
- –ü–æ –¥–∞—Ç–∞–º (—Å/–ø–æ)

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –î–∞—Ç–∞ —Å–ø–∏—Å–∞–Ω–∏—è
- –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç)
- –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –û–ø–µ—Ä–∞—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å–ø–∏—Å–∞–Ω–∏—è
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
–ó–∞–ø–∏—Å–∏ —Å–ø–∏—Å–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤:
- `getProjectStats()` - –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- `getAllProjectsReport()` - –æ—Ç—á—ë—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
–ó–∞–ø–∏—Å–∏ —Å–ø–∏—Å–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤:
- `getMaterialStats()` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- `getAllMaterialsReport()` - –æ—Ç—á—ë—Ç –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "–°–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
2. –í—ã–±—Ä–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É:
   - –í—ã–±—Ä–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª
   - –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
   - –£–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É
   - –£–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å"
5. –ó–∞–ø–∏—Å—å –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```javascript
{
  id: number,
  material_id: number,
  project_id: number,
  date: string (YYYY-MM-DD),
  amount: number,
  notes: string | null,
  created_at: string,
  // JOIN –¥–∞–Ω–Ω—ã–µ:
  material_name: string,
  material_unit: string,
  material_price: number,
  project_name: string,
  total_cost: number (amount * material_price)
}
```

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã:
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç –∏ –æ–¥–∏–Ω –º–∞—Ç–µ—Ä–∏–∞–ª
2. –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å —Å–ø–∏—Å–∞–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–ø–∏—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ
7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—á—ë—Ç —Å–ø–∏—Å–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ –ø—Ä–æ–µ–∫—Ç—ã, —á—Ç–æ –±—ã–ª–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

